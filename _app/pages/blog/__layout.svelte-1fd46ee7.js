import{S as t,i as e,s as n,E as o,F as s,G as a,x as l,u as r,l as c,f as u,w as i,d as f,W as d,A as p,D as h,r as m,X as $}from"../../chunks/vendor-06bf550c.js";import{u as v}from"../../chunks/user-bd305a64.js";function g(t){let e;const n=t[2].default,c=h(n,t,t[1],null);return{c(){c&&c.c()},l(t){c&&c.l(t)},m(t,n){c&&c.m(t,n),e=!0},p(t,l){c&&c.p&&(!e||2&l)&&o(c,n,t,t[1],e?a(n,t[1],l,null):s(t[1]),null)},i(t){e||(l(c,t),e=!0)},o(t){r(c,t),e=!1},d(t){c&&c.d(t)}}}function k(t){let e,n,o=!t[0]&&g(t);return{c(){o&&o.c(),e=c()},l(t){o&&o.l(t),e=c()},m(t,s){o&&o.m(t,s),u(t,e,s),n=!0},p(t,[n]){t[0]?o&&(m(),r(o,1,1,(()=>{o=null})),i()):o?(o.p(t,n),1&n&&l(o,1)):(o=g(t),o.c(),l(o,1),o.m(e.parentNode,e))},i(t){n||(l(o),n=!0)},o(t){r(o),n=!1},d(t){o&&o.d(t),t&&f(e)}}}function w(t,e,n){let o;d(t,v,(t=>n(3,o=t)));let{$$slots:s={},$$scope:a}=e;var l=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(s,a){function l(t){try{c(o.next(t))}catch(e){a(e)}}function r(t){try{c(o.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,r)}c((o=o.apply(t,e||[])).next())}))};let r=!0;return p((()=>l(void 0,void 0,void 0,(function*(){if(!localStorage.getItem("token"))return n(0,r=!1),{props:{user:null}};const t=yield fetch("http://localhost:1337/api/auth/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e=yield t.json();n(0,r=!1),t.ok&&($(v,o=e,o),console.log(o))})))),t.$$set=t=>{"$$scope"in t&&n(1,a=t.$$scope)},[r,a,s]}class x extends t{constructor(t){super(),e(this,t,w,k,n,{})}}export{x as default};
